{"componentChunkName":"component---src-templates-post-js","path":"/pensieve/wordpress-publish-error","result":{"data":{"markdownRemark":{"html":"<h2>Problem</h2>\n<p>Recently while working on a WordPress project with <a href=\"https://github.com/Upstatement/ups-dock\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ups Dock</a>, I encountered a weird error where I wasn't able to update or publish a simple post in my local WP admin.</p>\n<p>It looked something like this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9a92c868095081fef605169d5c41eaee/8e621/draft-fail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'130\\'%20viewBox=\\'0%200%20400%20130\\'%20preserveAspectRatio=\\'none\\'%3e%3cpath%20d=\\'M340%205v6l1%205h29V4h-15l-15%201m35%200l-1%206v5h13V5l-6-1-6%201M29%2056c0%204%200%205-2%205l-1-3c1-4%200-6-2-4l-1%204c0%204%200%204%204%204s5%200%204-2l1-3c1-1%201%200%201%202%200%203%200%203%204%203h5l-1-4-2-4c-2%200-2%200-1%203l-1%204-1-3c0-3-1-4-3-4l-2-2-1-1c-1%200-2%201-1%205m55-4l-1%203c-2%200-2%202-2%204s0%203%206%203h7l-1-3c0-2%200-3%201-2l2-1c0-1-1-2-3-2-4%200-4%200-3%204l-1%203-1-5c0-3-1-5-2-5l-2%201m22%200v5c-1%204-3%205-3%201l-2-4c-3%200-5%202-3%203%201%200%201%201-1%201-3%203%200%204%207%204%203%200%206%200%205-1-2%200-1-5%201-5l1%203c0%202%200%203%202%203l1-4c0-4%200-6-2-4h-3v-1l2-1h-5\\'%20fill=\\'%2364ffda\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Draft fail\"\n        title=\"Draft fail\"\n        src=\"/static/9a92c868095081fef605169d5c41eaee/39600/draft-fail.png\"\n        srcset=\"/static/9a92c868095081fef605169d5c41eaee/1aaec/draft-fail.png 175w,\n/static/9a92c868095081fef605169d5c41eaee/98287/draft-fail.png 350w,\n/static/9a92c868095081fef605169d5c41eaee/39600/draft-fail.png 700w,\n/static/9a92c868095081fef605169d5c41eaee/57cd1/draft-fail.png 1050w,\n/static/9a92c868095081fef605169d5c41eaee/4af54/draft-fail.png 1400w,\n/static/9a92c868095081fef605169d5c41eaee/8e621/draft-fail.png 2234w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Sometimes the error message would be slightly more helpful: <code class=\"language-text\">Publishing failed. Error message: The response is not a valid JSON response.</code></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ac418cb7402b96be332b88c4505db1b1/04410/publish-error.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'47\\'%20viewBox=\\'0%200%20400%2047\\'%20preserveAspectRatio=\\'none\\'/%3e'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Publish error\"\n        title=\"Publish error\"\n        src=\"/static/ac418cb7402b96be332b88c4505db1b1/39600/publish-error.png\"\n        srcset=\"/static/ac418cb7402b96be332b88c4505db1b1/1aaec/publish-error.png 175w,\n/static/ac418cb7402b96be332b88c4505db1b1/98287/publish-error.png 350w,\n/static/ac418cb7402b96be332b88c4505db1b1/39600/publish-error.png 700w,\n/static/ac418cb7402b96be332b88c4505db1b1/04410/publish-error.png 956w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>And if I popped open the console, I saw these errors:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d342131a17d748d605395cbdcc072a7f/fb77c/console-errors.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.571428571428573%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'82\\'%20viewBox=\\'0%200%20400%2082\\'%20preserveAspectRatio=\\'none\\'%3e%3cpath%20d=\\'M0%2041v41h401V0H0v41M197%206v2l-2%202-1-1V8l-2%201-1%204v-2c0-2-1-3-2-3l-1%201c0%204%200%204-2%202V8c-2%200-2%201-2%203l-2%202-2-1%202-4c0-2%200-2-4%204-1%202-3%200-1-2V7l-2%203c-1%203-3%204-3%202l-1-1v1l-1%201-1-1-1-2V9l-3-1c-4%200-4%200-4%203v3h48v-3c0-3%200-3-1-1h-1l-1-2-1%203c1%201%201%202-1%202l-1-1v-1h-1l-1%202-1-2c0-2-3-6-3-5m28%202l-2%203v2l-2-2h-1l-1%202c-1%200-2-1-1-2%200-2-1-3-2-3l-1%203-1%202-1-2-1-3c-2%200-2%201-2%203v3h53v-3c0-2%200-3-2-3-1%200-2%201-2%203%201%202%200%202-2%202-3%200-4%200-3-3%200-2%200-2-4-2-5%200-5%201-4%203l-1%202c-2%200-2-1-1-4V7l-2%203-1%203-1-3-1-1-1-1c-1-2-1-2-1%201%200%204%200%204-2%202V9l-3-1c-4%200-4%200-4%203v2l-1-3c0-4-1-4-2-2m55-1v3l-2%203v-2c0-3%200-3-4-3l-4%201v3l-1%202h32a425%20425%200%200030-2l-1-1h-1l-1%202-1-2c0-4-3-4-4-1-1%202-1%202-1-1%200-4-2-3-2%201%200%202%200%202-1%200-1-3-5-3-5%200%200%201%201%202%203%202%202%201%202%201-1%201l-4-1v-1h-1l-1%202-1-2-1-4c-2-1-2-1-2%203%200%203%200%203-2%201V8c-2%200-2%201-2%203l-1%202-1-4-2-2-1%203c1%203%201%204-2%202v-2l1-1c-2-2-4%200-4%202%201%201%200%202-1%202l-1-3V6l-1%205c0%204-6%202-8-2l-1-2m63%202c0%203-1%204-2%204v-1l-1-2V9l-2-1-1%201v3c-1%202%201%202%2029%202s29%200%2028-2l-1-4c0-1%200-2-1-1v1c0%202-1%205-3%205v-1l-1-1-1%201-2%201V7l-1-1-2%202%201%202v2c-2%201-2%201-4-1h-1c0%202-2%203-2%201V9c-1-2-3-4-3-2l1%201-2%205-1-2h-2l-1%202c-1%200-2-3-1-4V7l-3-1%201%202v3c-2%203-8%203-8%200l1-2%201%201%202%201%202-1c0-2-1-2-4-2-4%200-4%200-4%203%201%202%200%203-2%201v-2l1-1-3-1-3%201h-1c-1-1-1-1-1%201%201%202%201%203-1%203l-1-3-1-4v3M17%2016l-2%204%201%203h10l11-1h-1v-4l1-3-2%202c-1%203-2%203-2%202-1-3-4-2-4%200l-1%202-1-4c0-2%200-2-1-1v3l-1%201c-1%201-1%200-1-1%200-2%200-2-2-2-2%201-3%200-3-1h-2m84%200l-3%201-2%202%203%201h2c-1%202-6%201-7-1l-1-3-1%203v3c-1%200-2-1-2-3%200-3-1-4-2-2v2l-1%202c-1%201-1%201-1-1%200-3-1-5-2-3h-3c-3%200-3%200-3%203v3h45c41%200%2047%200%2043-3v-2l-1-2c-2%200-2%201-1%203%200%203%200%203-1%202l-2-4c0-2%200-2-1-1v3l-1%201c-1%201-1%200-1-2%200-3%200-4-3-1h-8l-2%201v1l-1-2c-1-2-3%200-3%202s0%202-1%201c-1-4-4-5-4-1l-1%202-1-4c0-2%200-2-1-1v3c0%201-1%202-3%201v-3c-2-2-3%200-2%203%200%202%200%202-2%201-2-2-3-3-1-3l1-1c0-2-3%200-3%202s0%202-1%200c-1-3-3-4-3-2%200%201-1%202-2%201l-1-2v-1l-2%202-2-1h-4l-1-1-2%201%201%201v2c-2%202-2%202-2-1-1-2-2-4-3-2M60%2028v4h29c25%200%2028-1%2028-2h1a245%20245%200%200047%200c-4%200-4-2%200-2%202%200%202%200%201-1l-4-1h-5l-2%201c-1-1-2-1-1%201l-1%202c-2%200-2%200-1-3s0-4-1-1-3%203-2%200l-1-1h-1c0-2-2-1-2%202%200%202-1%203-2%202v-2l1-2c-1-1-3%201-3%203l-1%202-1-2-1-2-1%202c0%203-2%202-2-1s-1-3-2-2l-2%204h-3c-1%202-2%201-2-1%200-3-1-4-3-2l1%202v1c-2%201-2%200-2-1l-1-2c-1-1-5%200-5%202l-1-1-1-2v2c0%203-1%204-2%202h-2c-1%201-1%201-1-1l-2-3c-2-1-2-1-2%202v4l-1-3c-2-4-3-4-3-1l-1%203-1-2c0-3-1-4-2-2v3c-3%201-5-1-3-2l1-2c-1-1-4%202-4%204%201%201%200%201-1%201-2%200-2%200%200-3v-3l-2%203c-2%204-4%204-3%200%201-3%200-4-1%200-2%204-2%204-3%202h-2l-1%201v-1l-3-4-1%203-1%202-1-3-1-2-1%203-1%202-1-3-1-2-1%203-1%202-1-2-2-3c-2-1-2-1-2%203m127-1c-1%202-1%202-2%200-1-3-4-3-4%201%200%202%200%202-1%201-1-4-2-5-4-3l-1%201c0-2-2-3-3-1l1%202v1c-6%202%205%203%2076%203a418%20418%200%200080-2%20385%20385%200%200064%200l-4-1h2l4-1c0-1-1-2-3-2l-3-1c-2%200-2%200-3%202v3l-1-3-2-3v6l-2-2c-1-3-3-4-3-1-1%202-3%203-3%201l1-1v-1h-5l-2%201-2%202v-2l-1-3-1%203c1%203%200%203-3%203l-3-1c1-1%200-2-1-2l-1-1c1-2%200-2-2-1h-1l-1-1-2%201h-1c-2-2-4%200-4%203v2l-1-3c-1-3-3-4-3%200%201%203-3%204-7%202h2l4-1-2-2h-4l-2%202-1%203v-3c0-2%200-3-4-3-3%200-4%201-4%202h-1c-2-3-4-2-4%201%200%202-1%202-4%202s-3%200-2-2l1-3c-1-1-3%201-3%203%200%201-1%202-2%201-2%200-2%200-1-1l2-1c0-2-2-2-4-1h-1l-1-1-2%201-2%201-1-1v-2l-2%202-1%201c0-3-2-2-3%201l-1%202-2-1%201-2%201-1-1-1c-1%200-2%201-2%203l-1%202v-1c0-2-2-5-3-3h-3c-2-3-3-2-3%201l-1%203v-3l-1-2-1%203-1%202-1-3v-2l-1%202-1%201-1-2h-2l-1-1-2%202h-1c-1-1-7-2-8-1l-2-1h-3c-2%202-5%202-5%200l-2-1v1c2%201%200%205-3%205-2%200-2%200%200-3v-3l-2%203c-1%203-3%202-2-1l-1-1c-2%200-2%201-2%202l-1%203-2-1%201-2%201-1-1-1c-1%200-2%201-2%203s0%202-2%202l-2-1%201-1v-2c-1-1-1-1-2%201h-2c0-2-2-3-3-1l1%202v1c-2%201-2%200-2-2v-2l-1%202-1%203v-3c-1-2-1-2-1%200l-1%203c-2%200-2%200-1-3l1-3c-1%200-2%201-2%203-2%204-4%203-3%200%200-2%200-3-2-3v4c-2%203-3%203-2-1%200-2%200-2-1-1h-2c-1-1-1-1-1%201%201%203%201%203-1%203s-2%200-1-2l1-3-2%202c-2%203-2%203-2%201s-5-4-5-2c0%201-2%201-3-1-2-1-2-1-3%202m102%2019v4c0%204-6%203-7-1-1-3-2-3-2%200l-2%203v-2c0-3%200-3-4-3l-4%201v3l-1%202h32c17%200%2031%200%2030-1v-1l-1-1-1%201-1%201-1-2c0-4-3-4-4-1-1%202-1%202-1%200%200-4-2-3-2%201%200%202%200%202-4%202-3%200-4%200-3-1l-1-1-1%201-1%201-1-2-1-3c-2-1-2%200-2%202%200%203%200%203-2%201v-3c-2%200-2%201-2%203l-1%202-1-4-2-1v3c0%203-2%203-2%200l-2-2-1%202-2%202-1-3c1-4%201-5-1-3m54%200v3c0%202-1%203-2%203l-1-1v-3l-2-1-1%201v3c-1%202%201%202%2028%202h30l-1-3-2-4v1c0%202-1%205-3%205v-1l-1-1-1%201-2%201v-4c-2%200-2%200-1-1v-1l-2%202%201%201-1%202h-4c-1%202-3%200-2-3%200-2-2-4-2-2v4c-1%202-3%203-3%201h-4v-5h-2v4c-2%203-11%203-11%200%200-2%200-3-3-3l-3%201h-1c-1-1-1-1-1%201%201%202%201%203-1%203l-1-3v-4l-1%201m-168%203c-1%203-3%204-3%202l-1-1v1l-1%201-1-1-1-2v-1l-3-1c-4%200-4%200-4%203v3h48v-3c0-3%200-3-1-1h-1c0-1%200-2-1-1l-1%202c1%201%200%202-1%202v-1l-1-1-1%201-1%201-1-2c0-2-1-3-2-3-2-1-2-1-1%202l-1%203-1-1v-3l-1-1-2%201-1%204v-2c0-2-1-3-2-3l-1%203c0%202%200%202-2%200v-3c-2%200-2%201-2%203l-2%202-2-1%201-4-3%204c-1%202-3%200-1-2v-3l-2%203m50-2c-2%201-2%202-2%203v2l-2-1h-1l-1%201-1-1-1-2v-2c-1%200-2%201-2%203l-1%202-1-2-1-3c-2%200-2%201-2%203v3h53v-3l-2-3-2%202c1%203%200%203-2%203-3%200-4%200-3-3%200-2%200-2-4-2-5%200-5%201-5%203v2c-2%200-2%200-1-3v-3l-2%202-1%202-1-2v-1h-2c-1-1-1%200-1%202%200%203%200%203-2%201v-2l-3-1c-4%200-4%200-4%203v2l-1-3c0-3-1-3-2-2M17%2056l-2%204c0%202%201%202%2011%202%207%200%2011%200%2010-1v-3c2-4%200-5-1-1-2%203-2%203-2%201-1-3-4-3-4%201%200%203-2%201-2-3%200-2%200-2-1-1v2l-1%203c-1%201-1%201-1-1%200-3%200-3-2-3h-5m84-1l-3%201-2%202%203%201c1-1%202%200%202%201%200%202-6%201-6-1v-2l-3-2v6l-1-1-1-2v-1l-1-1-2%201-1%204v-2c0-3%200-3-4-3s-4%200-4%203v3h45c44%200%2044%200%2043-2l-1-3-1%202-1%202c-1%200-2-2-2-5s-1-2-2%201l-1%204v-3c0-3%200-3-2-3l-6%201-5%201h-1l-1-1c-1%200-2%201-2%203l-1%202v-2c0-3%200-3-2-3l-2%202-1%202-1-4c0-2%200-2-1-1v2l-1%203c-1%201-1%201-2-1v-3c-2-2-3%200-2%203%201%202%200%203-3%200v-3c-2%200-2%201-2%203v2l-1-2-1-3-2%201-2%201v-2c0-2-2-3-3%200l-2-1h-5l-2-1%201%202v3c-2%203-3%203-3-1%201-3-1-5-2-3M60%2067v4h29c25%200%2028%200%2028-2h2c1%202%2048%203%2048%201l-2-1c-4%200-4-2%200-2%202%200%202%200%200-1l-3-1h-7c-1%200-2%200-1%202l-1%202c-2%200-2%200-1-3%202-4%200-4-1%200-2%203-2%203-2%200l-3-3-1%203c0%202-1%203-2%202v-2l1-2c-1-1-3%201-3%203s0%202-1%200l-2-2-2%202c-1%202-1%202-1-1s0-3-2-1l-2%203h-3c-1%202-3%200-2-3l-1-1-2%202c0%203%200%203-1%201l-1-2h-3l-2%202h-1c-1-2-1-2-1%200s-2%203-2%201h-2c-1%201-1%201-1-1l-2-3c-2-1-2-1-2%202s-1%204-1%201c-1-2-2-2-3%200%200%202-2%202-2%200%200-3-1-4-2-2v3c-2%201-5-1-3-2v-1c-1-1-3%202-3%203%201%201%200%201-1%201l-1-1%202-3-1-2-2%203c0%202-2%203-2%203-2%200-2%200-1-2l1-3c-1-1-1%200-2%202-1%203-2%204-4%202h-1l-1%201v-1c0-1-2-4-3-3l-1%202-1%202-1-3-1-2-1%203-1%202c-1%200-2-1-2-3l-1-2-1%202v3l-1-2-2-3c-2-1-2-1-2%203m127-2c-1%203-1%203-3%201-1-2-3-2-3%201%200%202%200%202-1%200l-1-2h-2l-1%202v2l-1-2c0-3-1-4-3-2l1%202v1c-7%203%203%203%20101%203a1990%201990%200%2000102-2v-3l1-1c-1-2-3%200-3%202s-1%202-3%201v-1c2%200%202%200%201-2-1-1-1-1-3%201h-2c0-2-1-2-2-2l-2%201-1%202h-1c-1-2-1-2-1%200s-4%203-7%201h2l4-1c0-1-1-2-3-2h-4l-1%202c0%203-2%202-2-2l-1-2-1%203c1%204%200%204-2%201-1-3-2-3-3%200%200%201-1%202-2%201v-3h-4c-2-1-3%200-3%202l-1%202-1-4-1-2v3c0%203%200%203-3%203s-4%200-3-1l-1-2-2-1v-2l-2%203-1%202v-2l-1-2c-2%200-2%201-1%203l-1%202-2-4c-1-2-1-1-1%202l-1%201c-1%201-1%200-1-2%200-3%200-3-2-2s-3%202-4%201h-5c-3%200-3%203%201%203%202%201%202%201-1%201s-4-1-4-2l-1-3-1%202v3l-1-2-2-2-1%201c0%202-1%203-3%202v-1c2%200%202%200%201-2h-9c-1-2-3%200-3%202s0%202-1%200c-1-3-4-3-3%200%200%202-1%202-3%201v-2l1-2c-1-1-3%201-3%203l-1%202-1-3-1-3-1%201-1%205-1-2c0-3-1-4-2-2v3h-3v-1l1-2c-1-1-4%200-4%202h-1v-3l-1-1-1%203-1%203-1-1c2-2%200-4-4-3-3%200-4%200-4%202l-1%203v-3c-1-3-2-3-3%200l-1%202-1-2c1-3-2-3-3%200-1%202-1%201-1-1l-1-1-2%202-1-1c-1-3-3-2-4%201-1%202-1%202-1-1l-2-2-1%202c1%202%200%203-1%203-2%200-2%200-1-3l1-3c-1%200-2%201-2%203-2%204-4%203-3%200l-1-3-2%201%201%201v2c-2%203-3%202-3%200%201-1%200-2-1-2s-2%201-1%202c0%202%200%202-2%202s-2%200-1-2l1-3-2%202c-2%203-2%203-2%201-1-3-1-3-5-2-1%201-2%200-3-1-2-1-2-1-3%201\\'%20fill=\\'%2364ffda\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Console errors\"\n        title=\"Console errors\"\n        src=\"/static/d342131a17d748d605395cbdcc072a7f/39600/console-errors.png\"\n        srcset=\"/static/d342131a17d748d605395cbdcc072a7f/1aaec/console-errors.png 175w,\n/static/d342131a17d748d605395cbdcc072a7f/98287/console-errors.png 350w,\n/static/d342131a17d748d605395cbdcc072a7f/39600/console-errors.png 700w,\n/static/d342131a17d748d605395cbdcc072a7f/57cd1/console-errors.png 1050w,\n/static/d342131a17d748d605395cbdcc072a7f/fb77c/console-errors.png 1185w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Solution</h2>\n<p>Since the error message had to do with a JSON response, I initially thought it was a Gutenberg or ACF issue. But it turned out this was happening because I was on the https WP admin (i.e. <a href=\"https://project.ups.dock/wp-admin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://project.ups.dock/wp-admin</a>), not the unsecure WP admin (<a href=\"http://project.ups.dock/wp-admin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://project.ups.dock/wp-admin</a>).</p>\n<p>It was a CORS error!! I was trying to modify a non-https domain from a https domain. Switching to a non-https WP admin allowed me to publish posts with no problem.</p>","frontmatter":{"title":"WordPress Publishing Error","description":"Trying to create a simple post in WordPress","date":"2019-12-03","slug":"/pensieve/wordpress-publish-error","tags":["WordPress"]}}},"pageContext":{}}}